@model IEnumerable<websitebenhvien.Models.EnitityVM.CategorynewsVM>

<div class="list-group category-menu shadow-sm">
    @foreach (var category in Model)
    {
        var isActive = ViewData["CurrentCategory"]?.ToString() == category.Alias_url;
        <a href="@category.Alias_url"
           class="list-group-item list-group-item-action d-flex align-items-center gap-2 @(isActive ? "active" : "")"
           onclick="localStorage.setItem('selectedCategoryTitle', '@category.Title'); localStorage.setItem('selectedCategory','@category.Alias_url')">
            <i class="fas fa-folder-open @(isActive ? "text-white" : "text-primary")"></i>
            <span class="@(isActive ? "fw-bold text-white" : "fw-semibold text-dark")">@category.Title</span>
        </a>
    }
</div>

<style>
    /* Container */
    .category-menu {
        border-radius: 12px;
        overflow-y: auto;
        max-height: 500px;
        background: #fff;
        padding: 6px;
        border: 1px solid #e5e5e5;
    }

    /* Scrollbar */
    .category-menu::-webkit-scrollbar {
        width: 8px;
    }
    .category-menu::-webkit-scrollbar-track {
        background: #f9f9f9;
    }
    .category-menu::-webkit-scrollbar-thumb {
        background: #c1c1c1;
        border-radius: 4px;
    }
    .category-menu::-webkit-scrollbar-thumb:hover {
        background: #999;
    }

    /* Item */
    .category-menu .list-group-item {
        border: none;
        border-radius: 8px;
        margin-bottom: 4px;
        padding: 12px 14px;
        font-size: 0.95rem;
        display: flex;
        align-items: center;
        transition: all 0.25s ease;
        background: #fff;
    }

    /* Hover */
    .category-menu .list-group-item:hover {
        background: linear-gradient(90deg, rgba(13,110,253,0.1) 0%, rgba(13,110,253,0.05) 100%);
        color: #31a0d3;
        transform: translateX(4px);
    }

    /* Active */
    .category-menu .list-group-item.active {
        background: linear-gradient(135deg, #31a0d3, #0056b3);
        color: #fff !important;
        font-weight: bold;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    /* Icon */
    .category-menu i {
        font-size: 1.1rem;
        transition: transform 0.3s ease;
    }
    .category-menu .list-group-item:hover i {
        transform: scale(1.2);
    }

    /* Click effect */
    .category-menu .list-group-item:active {
        transform: scale(0.98);
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const storedAlias = localStorage.getItem("selectedCategory");
        if (storedAlias) {
            const items = document.querySelectorAll(".category-menu .list-group-item");
            items.forEach(item => {
                if (item.getAttribute("href") === storedAlias) {
                    item.classList.add("active");
                }
            });
        }
    });
</script>
